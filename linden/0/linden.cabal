name:                linden
version:             0
x-revision: 1
synopsis:            Zen gardening, based on l-systems
description:         A system for defining and running interactive l-systems over the web.
homepage:            https://oss.xkcd.com/
license:             BSD3
license-file:        LICENSE
author:              davean
maintainer:          oss@xkcd.com
copyright:           davean 2016-2017
category:            Web
build-type:          Simple
cabal-version:       >=1.10

data-files:
  art/*.png
  art/*.svg
  client/package.json
  client/webpack.config.js
  client/build/index.html
  client/build/linden.js
  client/src/*.js
  client/src/*.less
  tiff/*.tif
  extract_grips.py
  assets/*.png
  assets/*.json

source-repository head
  type: git
  location: https://code.xkrd.net/xkcd/linden.git

library
  hs-source-dirs:      src
  default-language:    Haskell2010
  exposed-modules:
          Linden.TH
        , Linden.Types
        , Linden.RuleDSL
        , Linden.Store.Memory
        , Linden.Store.Redis
        , Linden.Server
  build-depends:
                base >=4.9 && <4.11
              , bifunctors >= 5.4 && < 5.5
              , deepseq >= 1.4 && < 1.5
              , containers >= 0.5 && < 0.6
              , rosezipper >= 0.2 && < 0.3
              , random-fu >= 0.2.6.2
              , aeson >= 1.2 && < 1.3
              , mtl >= 2.2 && < 2.3
              , monad-supply == 0.6.*
              , bytestring >= 0.10 && < 0.11
              , text >= 1.2 && < 1.3
              , wai >= 3.2 && < 3.3
              , http-types >= 0.9 && < 0.10
              , wai-extra >= 3.0 && < 3.1
              , wai-app-static >= 3.1 && < 3.2
              , wai-cors >= 0.2 && < 0.3
              , delay >= 0 && < 0.1
              , time >= 1.7 && < 1.9
              , filepath >= 1.4 && < 1.5
              , SHA >= 1.6 && < 1.7
              , uuid >= 1.3 && < 1.4
              , unordered-containers >= 0.2 && < 0.3
              , lens >= 4.15 && < 4.16
              , exceptions >= 0.8 && < 0.9
              , hashable >= 1.2 && < 1.3
              , hedis >= 0.9 && < 0.10
              , zlib >= 0.6 && < 0.7

executable linden-example
  default-language:    Haskell2010
  ghc-options: -rtsopts -threaded
  main-is: Linden.hs
  other-modules: Paths_linden
  build-depends:
                base >=4.9 && <4.11
              , linden
              , containers
              , rosezipper
              , mtl
              , random-fu
              , warp >= 3.2 && < 3.3
              , uuid
              , hashable
              , text
