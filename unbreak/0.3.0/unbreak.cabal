name:               unbreak
version:            0.3.0
synopsis:           Secure editing of remote documents with unstable connection
license:            AGPL-3
license-file:       LICENSE
author:             Kinoru
maintainer:         xkinoru@gmail.com
copyright:          Copyright (C) 2015 Kinoru
category:           Network
build-type:         Simple
cabal-version:      >=1.18

library
    hs-source-dirs:     lib
    exposed-modules:
        Unbreak.Crypto,
        Unbreak.Format,
        Unbreak.Run,
        Data.ByteString.OverheadFree
    default-extensions: OverloadedStrings, RecordWildCards
    default-language:   Haskell2010
    build-depends:
        aeson >= 0.9,
        aeson-pretty >= 0.7,
        base64-bytestring == 1.*,
        bytestring >= 0.10,
        cereal >= 0.4,
        cryptonite >= 0.9,
        memory >= 0.10,
        process == 1.*,
        text == 1.*,
        unix == 2.*,
        base >=4.8 && <4.9
    ghc-options: -Wall -fwarn-incomplete-uni-patterns -O2 -threaded

executable unbreak
    default-extensions: OverloadedStrings, RecordWildCards
    main-is:            Main.hs
    hs-source-dirs:     src
    build-depends:
        bytestring >= 0.10,
        cmdargs >= 0.10,
        unbreak,
        base >=4.8 && <4.9
    ghc-options: -Wall -fwarn-incomplete-uni-patterns -O2 -threaded -static -optl-pthread -optl-static
    default-language: Haskell2010
