-- auto-generated by cabal init. For additional options, see:
-- http://www.haskell.org/cabal/release/cabal-latest/doc/users-guide/authors.html#pkg-descr.

Name:                xfconf
Version:             4.8.0.0
x-revision: 1
Stability:           alpha
Synopsis:            FFI bindings to xfconf
Description:
    Xfconf is a simple client-server configuration storage and query
	system build on top of glib and used by XFCE.
Homepage:            http://patch-tag.com/r/obbele/xfconf/home
License:             GPL-3
License-file:        LICENSE
Author:              John Obbele
Maintainer:          john.obbele@gmail.com
Category:            System, XFCE
Build-type:          Custom
Cabal-version:       >=1.6

Extra-Source-Files:  Gtk2HsSetup.hs marshal.list hierarchy.list
Extra-source-files:  Makefile README

-- Demo program.
Extra-source-files:  Demo/Demo.hs

-- Some examples of native C xfconf.
Extra-source-files:  C/demo.c C/Makefile

-- Header files for reference.
Extra-source-files:  include/xfconf-binding.h include/xfconf-channel.h
Extra-source-files:  include/xfconf-errors.h include/xfconf.h
Extra-source-files:  include/xfconf-types.h

-- Header files forcing gtk2hsC2hs to include multiple headers.
Extra-source-files:  include/all.h

-- Gtk2HS black magic.
x-Types-File:       System/XFCE/Xfconf/Types.chs
x-Types-ModName:    System.XFCE.Xfconf.Types
x-Types-Import:     System.Glib.GObject
x-Types-Tag:        xfconf
x-Types-Hierarchy:  hierarchy.list

Source-Repository head
  type:              darcs
  location:          http://patch-tag.com/r/obbele/xfconf/home

Flag buildTests
  description:       Build the two test suites
  default:           False

custom-setup
  setup-depends: base < 4.7, Cabal < 1.17, filepath < 1.4, directory < 1.3, containers < 0.6

library
  -- Be a good child and build modules in the following order
  -- to avoid dependencies misfortunes.
  Exposed-Modules:   System.XFCE.Xfconf.Unsafe
                     System.XFCE.Xfconf.Core
                     System.XFCE.Xfconf.Error
                     System.XFCE.Xfconf.Values
                     -- Channel requires those normally hidden packages
                     System.XFCE.Xfconf.GHashTable
                     System.XFCE.Xfconf.Types
                     System.XFCE.Xfconf.Signals
                     --
                     System.XFCE.Xfconf.Channel
                     -- Binding requires Channel
                     System.XFCE.Xfconf.Binding
                     -- â€¦ and in the darkness bind them
                     System.XFCE.Xfconf

  Other-Modules:     System.XFCE.Xfconf.FFI

  Build-depends:     base                       >=3.0 && < 5.0,
                     glib                       >=0.12

 -- dependencies specific to Tests/Tests
  if flag(buildTests)
      Build-depends: test-framework             ==0.3.*,
                     test-framework-hunit       ==0.2.*,
                     test-framework-quickcheck2 ==0.2.*,
                     HUnit                      ==1.2.*,
                     QuickCheck                 >=2.1

  build-tools:       gtk2hsC2hs, gtk2hsHookGenerator, gtk2hsTypeGen

  x-Signals-File:    System/XFCE/Xfconf/Signals.chs
  x-Signals-Modname: System.XFCE.Xfconf.Signals
  x-Signals-Types:   marshal.list
  x-c2hs-Header:     include/all.h
  -- needed by Types.chs
  extensions:        ForeignFunctionInterface

  pkgconfig-depends: libxfconf-0

  ghc-options:       -Wall -fno-warn-unused-do-bind

Executable tests
  Main-is:           Tests/Tests.hs

  if flag(buildTests)
      Buildable:     True
  else
      Buildable:     False

  ghc-options:       -Wall
  ghc-options:       -fno-warn-unused-do-bind
  ghc-options:       -fno-warn-missing-signatures
  ghc-options:       -auto-all

  -- Copy-and-paste instructions from the previous library target.
  build-tools:       gtk2hsC2hs, gtk2hsHookGenerator, gtk2hsTypeGen
  x-Signals-File:    System/XFCE/Xfconf/Signals.chs
  x-Signals-Modname: System.XFCE.Xfconf.Signals
  x-Signals-Types:   marshal.list
  x-c2hs-Header:     include/all.h
  extensions:        ForeignFunctionInterface
  pkgconfig-depends: libxfconf-0
  -- Cabal refuses to build saying that System.XFCE.Xfconf.{FFI, ...}
  -- are hidden modules from the missing dependency "xfconf-0.0.0.x"
  -- For peace on earth we shall declare all our previous modules
  -- in the following "Other-Modules" attributes
  Other-Modules:     System.XFCE.Xfconf.FFI
                     System.XFCE.Xfconf.Unsafe
                     System.XFCE.Xfconf.Core
                     System.XFCE.Xfconf.Error
                     System.XFCE.Xfconf.Values
                     System.XFCE.Xfconf.GHashTable
                     System.XFCE.Xfconf.Types
                     System.XFCE.Xfconf.Signals
                     System.XFCE.Xfconf.Channel
                     System.XFCE.Xfconf.Binding
                     System.XFCE.Xfconf

Executable testGlib
  Main-is:           Tests/TestGlib.hs

  if flag(buildTests)
      Buildable:     True
  else
      Buildable:     False

  ghc-options:       -Wall
  ghc-options:       -fno-warn-unused-do-bind
  ghc-options:       -fno-warn-missing-signatures
  ghc-options:       -threaded

  -- Copy-and-paste instructions from the previous library target.
  build-tools:       gtk2hsC2hs, gtk2hsHookGenerator, gtk2hsTypeGen
  x-Signals-File:    System/XFCE/Xfconf/Signals.chs
  x-Signals-Modname: System.XFCE.Xfconf.Signals
  x-Signals-Types:   marshal.list
  x-c2hs-Header:     include/all.h
  extensions:        ForeignFunctionInterface
  pkgconfig-depends: libxfconf-0
  Other-Modules:     System.XFCE.Xfconf.FFI
                     System.XFCE.Xfconf.Unsafe
                     System.XFCE.Xfconf.Core
                     System.XFCE.Xfconf.Error
                     System.XFCE.Xfconf.Values
                     System.XFCE.Xfconf.GHashTable
                     System.XFCE.Xfconf.Types
                     System.XFCE.Xfconf.Signals
                     System.XFCE.Xfconf.Channel
                     System.XFCE.Xfconf.Binding
                     System.XFCE.Xfconf

