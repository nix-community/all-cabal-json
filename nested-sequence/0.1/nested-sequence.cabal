
Name:                nested-sequence
Version:             0.1
Synopsis:            A list-like data structure with O(log(n)) random access
Description:         A list-like data structure implemented using a nested data type and polymorphic
                     recursion. It supports O(log(n)) lookup while still having amortized O(1) 
                     access to the left end of the sequence. Somewhat similar to finger trees,
                     but much simpler and more memory efficient; however, modifying the right end 
                     of the sequence is still slow.
Author:              Balazs Komuves, Peter Divianszky
license:             BSD3
license-file:        LICENSE
Copyright:           (c) 2016 Balazs Komuves, Peter Divianszky
Maintainer:          bkomuves (plus) hackage (at) gmail (dot) hu
Homepage:            http://code.haskell.org/~bkomuves/
Stability:           Experimental
Category:            Data Structures, Data
Tested-With:         GHC == 7.10.3
Cabal-Version:       >= 1.8
Build-Type:          Simple

extra-source-files:  src/Data/Nested/Seq/sequence.inc
                     src/Data/Nested/Seq/exp_imp.inc
                     test/Tests/tests.inc
                     doc/*.png

extra-doc-files:     doc/*.png

source-repository head
  type:     darcs
  location: http://code.haskell.org/~bkomuves/projects/nested-sequence/
  
Library
  Build-Depends:       base >= 4 && < 5

  Exposed-Modules:     Data.Nested.Seq
                       Data.Nested.Seq.Lazy
                       Data.Nested.Seq.Strict

  Extensions:          CPP, BangPatterns, PatternSynonyms
  Hs-Source-Dirs:      src

  -- note: force-recomp is necessary since the source code is included via 
  -- the C preprocessor, which breaks the recompilation checker 

  ghc-options:         -fforce-recomp -Wall -fno-warn-unused-matches -fno-warn-unused-imports -fno-warn-unused-binds
                       -fno-warn-incomplete-patterns -fno-warn-name-shadowing

  -- cpp-options:         -DTESTING
 
test-suite nested-sequence-tests
                      
  type:                exitcode-stdio-1.0
  hs-source-dirs:      test
  main-is:             TestSuite.hs

  other-modules:       Tests.Lazy
                       Tests.Strict

  build-depends:       base >= 4 && < 5, nested-sequence,
                       QuickCheck >= 2, test-framework, test-framework-quickcheck2

  ghc-options:         -fforce-recomp -fno-warn-incomplete-patterns 

  Extensions:          CPP, BangPatterns, PatternSynonyms

