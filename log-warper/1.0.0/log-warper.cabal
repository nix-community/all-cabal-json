name: log-warper
version: 1.0.0
x-revision: 1
cabal-version: >=1.18
build-type: Simple
license: MIT
license-file: LICENSE
copyright: 2016-2016 Serokell
maintainer: Serokell <hi@serokell.io>
stability: experimental
homepage: https://github.com/serokell/log-warper
synopsis: Flexible, configurable, monadic and pretty logging
description:
    This package contains nice wrapper around hslogger library.
category: Interfaces
author: Serokell

flag patakdebugskovorodabardaq
    description:
        Enable debug support
    default: False

library
    
    if !os(windows)
        build-depends:
            unix >=2.7.2.0 && <2.8
    
    if flag(patakdebugskovorodabardaq)
        cpp-options: -DPatakDebugSkovorodaBARDAQ
    exposed-modules:
        System.Wlog
        System.Wlog.CanLog
        System.Wlog.FileUtils
        System.Wlog.Formatter
        System.Wlog.Handler
        System.Wlog.Handler.Simple
        System.Wlog.Handler.Syslog
        System.Wlog.Launcher
        System.Wlog.Logger
        System.Wlog.LoggerConfig
        System.Wlog.LoggerName
        System.Wlog.LoggerNameBox
        System.Wlog.Roller
        System.Wlog.Severity
        System.Wlog.Wrapper
    build-depends:
        aeson >=0.11.2.1,
        ansi-terminal >=0.6.2.3 && <0.7,
        base >=4.7 && <5,
        bytestring >=0.10.8.1 && <0.11,
        containers >=0.5.7.0 && <0.6,
        directory >=1.2.6.2,
        dlist >=0.8.0.2 && <0.9,
        errors >=2.1.2 && <2.2,
        exceptions >=0.8.3 && <0.9,
        extra >=1.4.10,
        filepath >=1.4.1 && <1.5,
        formatting >=6.2.2 && <6.3,
        hashable >=1.2.4.0 && <1.3,
        lens >= 4.14.0,
        monad-control >=1.0.1.0 && <1.1,
        monad-loops >=0.4.3 && <0.5,
        mtl >=2.2.1 && <2.3,
        network >=2.6.3.1 && <2.7,
        safecopy >=0.9.1 && <0.10,
        text >=1.2.2.0 && <1.3,
        text-format >=0.3.1.1 && <0.4,
        time >=1.6.0.1 && <1.7,
        transformers >=0.5.2 && <0.6,
        transformers-base >=0.4.4 && <0.5,
        universum ==0.2.*,
        unordered-containers >=0.2.7.1 && <0.3,
        yaml >=0.8.20 && <0.9
    default-language: Haskell2010
    default-extensions: GeneralizedNewtypeDeriving DeriveDataTypeable
                        DeriveGeneric OverloadedStrings TypeApplications RecordWildCards
    hs-source-dirs: src
    other-modules:
        System.Wlog.Color
        System.Wlog.MemoryQueue
    ghc-options: -Wall -fno-warn-orphans

executable play-log
    main-is: Playground.hs
    build-depends:
        base >=4.7 && <5,
        exceptions >=0.8.2.1 && <0.9,
        log-warper >=1.0.0 && <1.1,
        text >=1.2.2.1 && <1.3
    default-language: Haskell2010
    default-extensions: GeneralizedNewtypeDeriving DeriveDataTypeable
                        DeriveGeneric OverloadedStrings TypeApplications RecordWildCards
    hs-source-dirs: examples
    ghc-options: -threaded -Wall -fno-warn-orphans

test-suite log-test
    type: exitcode-stdio-1.0
    main-is: Test.hs
    build-depends:
        async >=2.1.1 && <2.2,
        base >=4.9.1.0 && <4.10,
        data-default >=0.7.1.1 && <0.8,
        directory >=1.2.6.2 && <1.3,
        filepath >=1.4.1.0 && <1.5,
        hspec >=2.2.4 && <2.3,
        HUnit >=1.3.1.2 && <1.4,
        lens ==4.14.*,
        log-warper >=1.0.0 && <1.1,
        QuickCheck >=2.8.2 && <2.9,
        universum >=0.2.1 && <0.3,
        unordered-containers >=0.2.7.2 && <0.3
    default-language: Haskell2010
    default-extensions: DeriveDataTypeable DeriveGeneric
                        GeneralizedNewtypeDeriving StandaloneDeriving FlexibleContexts
                        FlexibleInstances MultiParamTypeClasses FunctionalDependencies
                        DefaultSignatures NoImplicitPrelude OverloadedStrings
                        RecordWildCards TypeApplications TupleSections ViewPatterns
                        LambdaCase MultiWayIf
    hs-source-dirs: test
    other-modules:
        Spec
        Test.Wlog.RollingSpec
    ghc-options: -threaded -rtsopts -Wall -fno-warn-orphans -with-rtsopts=-N
