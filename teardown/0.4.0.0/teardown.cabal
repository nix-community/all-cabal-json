name: teardown
version: 0.4.0.0
cabal-version: >=1.10
build-type: Simple
license: MIT
license-file: LICENSE
copyright: Â© 2017, 2018 Roman Gonzalez
maintainer: open-source@roman-gonzalez.info
stability: alpha (experimental)
homepage: https://github.com/roman/Haskell-teardown#readme
bug-reports: https://github.com/roman/Haskell-teardown/issues
synopsis: Build composable components for your application with clear teardown semantics
description:
    The teardown library allows you to reliably execute cleanup sub-routines for
    allocated resources when a program is initialized; it:
    .
    * Ensures that teardown sub-routines are executed /exactly/ once, even on the
    scenario where cleanup is invoked multiple times
    .
    * Ensures that if errors occur on the execution of one teardown, the error
    does not propagate to other sub-routines; effectively keeping them isolated.
    .
    * Requires every sub-routine to be documented at creation time; thus helping
    tracing your application structure.
    .
    * Allows tracing the teardown of your application, how is structured, how much
    time it takes to execute, and what component (if any) failed to finalize.
category: System
author: Roman Gonzalez
tested-with: GHC ==8.0.1 GHC ==8.0.2 GHC ==8.2.1
extra-source-files:
    CHANGELOG.md
    README.md

source-repository head
    type: git
    location: https://github.com/roman/Haskell-teardown

library
    exposed-modules:
        Control.Teardown
    build-depends:
        ansi-wl-pprint >=0.6.7.3,
        base >=4.8 && <5,
        rio >=0.0.0.0,
        typed-process >=0.1.0.0,
        unliftio >=0.2.4.0
    default-language: Haskell2010
    hs-source-dirs: src
    other-modules:
        Control.Teardown.Internal.Types
        Control.Teardown.Internal.Core
        Control.Teardown.Internal.Printer
    ghc-options: -Wall -Wincomplete-uni-patterns -Wincomplete-record-updates

test-suite  teardown-test
    type: exitcode-stdio-1.0
    main-is: TestSuite.hs
    build-depends:
        base >=4.8 && <5,
        rio >=0.0.0.0,
        tasty >=0.11,
        tasty-hunit >=0.9.2,
        teardown -any,
        typed-process >=0.1.0.0,
        unliftio >=0.2.4.0
    default-language: Haskell2010
    hs-source-dirs: test/tasty
    other-modules:
        TeardownTest
        Paths_teardown
    ghc-options: -Wall -Wincomplete-uni-patterns -Wincomplete-record-updates -threaded -rtsopts -with-rtsopts=-N

benchmark  teardown-benchmark
    type: exitcode-stdio-1.0
    main-is: Main.hs
    build-depends:
        base >=4.8 && <5,
        criterion >=1.1,
        rio >=0.0.0.0,
        teardown -any,
        typed-process >=0.1.0.0,
        unliftio >=0.2.4.0
    default-language: Haskell2010
    hs-source-dirs: benchmark
    other-modules:
        Paths_teardown
    ghc-options: -Wall -Wincomplete-uni-patterns -Wincomplete-record-updates -threaded -rtsopts -with-rtsopts=-N