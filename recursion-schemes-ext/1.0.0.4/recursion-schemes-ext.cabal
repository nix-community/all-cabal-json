cabal-version: 1.18
name: recursion-schemes-ext
version: 1.0.0.4
license: BSD3
license-file: LICENSE
copyright: Copyright: (c) 2017 Vanessa McHale
maintainer: vamchale@gmail.com
author: Vanessa McHale
stability: experimental
homepage: https://hub.darcs.net/vmchale/recursion-schemes-ext#readme
synopsis: Amateur addenda to recursion-schemes
description:
    This package provides some exotic recursion schemes as well monadic versions of some morphisms.
category: Control
build-type: Simple
extra-source-files:
    cabal.project.local
extra-doc-files: README.md

source-repository head
    type: git
    location: https://hub.darcs.net/vmchale/recursion-schemes-ext

flag development
    description:
        Enable `-Werror`
    default: False
    manual: True

library
    exposed-modules:
        Data.Functor.Foldable.Exotic
    hs-source-dirs: src
    default-language: Haskell2010
    ghc-options: -Wall -Wincomplete-uni-patterns
                 -Wincomplete-record-updates
    build-depends:
        base >4.9 && <5,
        recursion-schemes >=5.0,
        lens -any,
        composition-prelude -any
    
    if flag(development)
        ghc-options: -Werror

test-suite recursion-schemes-test
    type: exitcode-stdio-1.0
    main-is: Spec.hs
    hs-source-dirs: test
    other-modules:
        Examples
    default-language: Haskell2010
    ghc-options: -threaded -rtsopts -with-rtsopts=-N -Wall
                 -Wincomplete-uni-patterns -Wincomplete-record-updates
    build-depends:
        base -any,
        recursion-schemes-ext -any,
        recursion-schemes >=5.0,
        deepseq -any,
        hspec -any
    
    if flag(development)
        ghc-options: -Werror

benchmark recursion-schemes-bench
    type: exitcode-stdio-1.0
    main-is: Bench.hs
    hs-source-dirs: bench test
    other-modules:
        Examples
    default-language: Haskell2010
    ghc-options: -Wall -Wincomplete-uni-patterns
                 -Wincomplete-record-updates
    build-depends:
        base -any,
        recursion-schemes-ext -any,
        criterion -any,
        deepseq -any,
        recursion-schemes -any
    
    if flag(development)
        ghc-options: -Werror
