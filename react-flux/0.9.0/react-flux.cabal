name:                react-flux
version:             0.9.0
synopsis:            A binding to React based on the Flux application architecture for GHCJS
category:            Web
homepage:            https://bitbucket.org/wuzzeb/react-flux
license:             BSD3
license-file:        LICENSE
author:              John Lenz <wuzzeb@gmail.com>
maintainer:          John Lenz <wuzzeb@gmail.com>
build-type:          Simple
cabal-version:       >=1.10

extra-source-files:
    ChangeLog.md,
    README.md,
    example/README.md,
    example/css/todo.css,
    example/css/bg.png,
    example/Makefile,
    example/*.hs,
    example/*.html,
    test/client/test-client.html,
    test/spec/react-flux-spec.cabal,
    test/spec/Spec.hs,
    test/spec/stack.yaml,
    test/spec/TestClientSpec.hs,
    test/spec/TodoSpec.hs

source-repository head
    type: mercurial
    location: https://bitbucket.org/wuzzeb/react-flux

Flag example
    Description: Build the TODO example application
    Default: False

Flag test-client
    Description: Build the test client application
    Default: False

library
  hs-source-dirs:      src
  ghc-options: -Wall
  default-language: Haskell2010
  js-sources: jsbits/views.js jsbits/store.js jsbits/export.js

  exposed-modules: React.Flux
                   React.Flux.DOM
                   React.Flux.PropertiesAndEvents
                   React.Flux.Lifecycle
                   React.Flux.Internal

  other-modules: React.Flux.Views
                 React.Flux.Store
                 React.Flux.Export

  default-extensions: CPP
                      EmptyDataDecls
                      ExistentialQuantification
                      FlexibleContexts
                      FlexibleInstances
                      FunctionalDependencies
                      GeneralizedNewtypeDeriving
                      MultiParamTypeClasses
                      OverloadedStrings
                      ScopedTypeVariables
                      TypeFamilies

  build-depends: base >=4.8 && < 5
               , deepseq
               , mtl >= 2.1
               , aeson >= 0.8
               , text >= 1.2

  if impl(ghcjs)
      build-depends: ghcjs-base

executable todo
   if !flag(example)
        Buildable: False
   ghc-options: -Wall
   cpp-options: -DGHCJS_BROWSER

   default-language: Haskell2010
   hs-source-dirs: example
   main-is: Main.hs
   build-depends: base
                , react-flux
                , deepseq

executable test-client
   if !flag(test-client)
        Buildable: False
   ghc-options: -Wall
   cpp-options: -DGHCJS_BROWSER

   default-language: Haskell2010
   hs-source-dirs: test/client
   main-is: TestClient.hs
   build-depends: base
                , react-flux
   if impl(ghcjs)
      build-depends: ghcjs-base
