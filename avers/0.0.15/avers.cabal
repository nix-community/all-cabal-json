name:                avers
version:             0.0.15
x-revision: 2
license:             GPL-3
license-file:        LICENSE
author:              Tomas Carnecky
maintainer:          tomas.carnecky@gmail.com
category:            Avers
build-type:          Simple
cabal-version:       >= 1.10

synopsis:            empty
description:         empty


extra-source-files:
    src/Avers/Metrics/Measurements.txt


source-repository head
    type:     git
    location: git://github.com/wereHamster/avers-haskell.git


library
    hs-source-dirs:   src
    default-language: Haskell2010

    ghc-options:
        -Wall


    -- For the time being everything is exported.
    exposed-modules:
        Avers
      , Avers.Handle
      , Avers.Index
      , Avers.Metrics
      , Avers.Metrics.Measurements
      , Avers.Metrics.TH
      , Avers.Patching
      , Avers.Storage
      , Avers.Storage.Backend
      , Avers.Storage.Expressions
      , Avers.TH
      , Avers.Types
      , Avers.Views


    -- Standard dependencies, stuff that is or should be in the platform.
    build-depends:
        aeson < 1.1
      , attoparsec < 0.14
      , base == 4.8.*
      , bytestring == 0.10.*
      , clock < 0.8
      , containers == 0.5.*
      , filepath < 1.5
      , mtl < 2.3
      , network == 2.6.*
      , network-uri == 2.6.*
      , safe < 0.4
      , stm < 2.5
      , template-haskell == 2.10.*
      , text < 1.3
      , time < 1.7
      , unordered-containers < 0.3
      , vector < 0.12

    -- More exotic dependencies which people may not immediately recognize.
    build-depends:
        MonadRandom < 0.5
      , base16-bytestring < 0.2
      , cryptohash < 0.12
      , inflections < 0.3
      , resource-pool < 0.3
      , rethinkdb-client-driver < 0.1
      , scrypt < 0.6



benchmark benchmark
    hs-source-dirs:      benchmark
    default-language:    Haskell2010

    ghc-options:        -threaded -Wall -O2 -rtsopts

    type:                exitcode-stdio-1.0
    main-is:             Benchmark.hs

    build-depends:
        aeson
      , avers
      , base
      , mtl
      , criterion
      , resource-pool
      , rethinkdb-client-driver
      , network-uri
      , text


test-suite spec
    hs-source-dirs:      test
    default-language:    Haskell2010

    type:                exitcode-stdio-1.0
    main-is:             Test.hs

    build-depends:
        MonadRandom
      , aeson
      , attoparsec
      , avers
      , base
      , base16-bytestring
      , bytestring
      , containers
      , cryptohash
      , hspec
      , inflections
      , mtl
      , resource-pool
      , rethinkdb-client-driver
      , scrypt
      , stm
      , text
      , time
      , unordered-containers
      , vector
