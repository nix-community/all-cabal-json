name:               OddWord
version:            1.0.1.1
license:            BSD3
license-file:       LICENSE
copyright:          (c) 2011-2018 Robin KAY
author:             Robin KAY
maintainer:         Robin KAY <komadori@gekkou.co.uk>
synopsis:           Provides a wrapper for deriving word types with fewer bits.
category:           Data
stability:          Stable
cabal-version:      >= 1.10
build-type:         Simple
extra-source-files: test/*.hs bench/*.hs CHANGELOG
homepage:           http://www.gekkou.co.uk/
description:
    Provdes the 'OddWord' type, which wraps an existing integer type and
    exposes a subset of its bits as a new narrower word type. Includes
    predefined type synonyms for all the odd sized words up to 63 bits.

Flag TypeLitsSupport
    description: Enable support for GHC type-level naturals.
    default: True

Library
    hs-source-dirs:   src
    exposed-modules:  Data.Word.Odd
    default-language: Haskell2010
    other-extensions: ScopedTypeVariables CPP
    build-depends:
        base >= 4.5 && < 5
    if flag(TypeLitsSupport) && impl(ghc >= 7.8)
        cpp-options: -DTYPE_LITS
        other-modules: Data.Word.Odd.TypeLits

Test-Suite oddword-tests
    type:             exitcode-stdio-1.0
    hs-source-dirs:   test
    main-is:          Main.hs
    default-language: Haskell2010
    other-extensions: ScopedTypeVariables CPP
    build-depends:
        base       >= 4.5 && < 5,
        QuickCheck >= 2.4 && < 2.12,
        OddWord

Test-Suite oddword-tests-typelits
    type:             exitcode-stdio-1.0
    hs-source-dirs:   test
    main-is:          TypeLitsTest.hs
    default-language: Haskell2010
    if flag(TypeLitsSupport) && impl(ghc >= 7.8)
        buildable: True
        build-depends:
            base       >= 4.5 && < 5,
            OddWord
    else
        buildable: False

Benchmark oddword-bench
    type:             exitcode-stdio-1.0
    hs-source-dirs:   bench
    main-is:          Main.hs
    default-language: Haskell2010
    build-depends:
        base       >= 4.5 && < 5,
        criterion  >= 1.4 && < 1.5,
        OddWord

Source-repository head
    type:     darcs
    location: http://hub.darcs.net/komadori/OddWord
