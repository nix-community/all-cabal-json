name: shelly
version: 1.6.8.5
cabal-version: >=1.8
build-type: Simple
license: BSD3
license-file: LICENSE
maintainer: Greg Weber <greg@gregweber.info>
homepage: https://github.com/yesodweb/Shelly.hs
synopsis: shell-like (systems) programming in Haskell
description:
    Shelly provides convenient systems programming in Haskell,
    similar in spirit to POSIX shells. Shelly:
    .
    * is aimed at convenience and getting things done rather than
    being a demonstration of elegance.
    .
    * has detailed and useful error messages
    .
    * maintains its own environment, making it thread-safe.
    .
    * is modern, using Text and system-filepath/system-fileio
    .
    Shelly is originally forked from the Shellish package.
    .
    See the shelly-extra package for additional functionality.
    .
    An overview is available in the README: <https://github.com/yesodweb/Shelly.hs/blob/master/README.md>
category: Development
author: Greg Weber, Petr Rockai
extra-source-files:
    test/src/*.hs
    test/examples/*.sh
    test/examples/*.hs
    test/data/zshrc
    test/data/nonascii.txt
    test/testall
    README.md
    ChangeLog.md

source-repository head
    type: git
    location: https://github.com/yesodweb/Shelly.hs

flag lifted
    description:
        run the tests against Shelly.Lifted
    default: False

flag build-examples
    description:
        build some example programs
    default: False
    manual: True

library
    
    if impl(ghc >=7.6.1)
        build-depends:
            base >=4.6 && <5
    else
        build-depends:
            base ==4.*
    
    if impl(ghc >=7.6.1)
        cpp-options: -DNO_PRELUDE_CATCH
    exposed-modules:
        Shelly
        Shelly.Lifted
        Shelly.Pipe
        Shelly.Unix
    build-depends:
        containers >=0.4.2.0,
        time >=1.3 && <1.9,
        directory >=1.1.0.0 && <1.4.0.0,
        mtl >=2,
        process >=1.0,
        unix-compat <0.5,
        system-filepath >=0.4.7 && <0.5,
        system-fileio <0.4,
        monad-control >=0.3.2 && <1.1,
        lifted-base -any,
        lifted-async -any,
        exceptions >=0.6 && <0.9,
        enclosed-exceptions -any,
        text -any,
        bytestring -any,
        async -any,
        transformers -any,
        transformers-base -any
    extensions: CPP
    hs-source-dirs: src
    other-modules:
        Shelly.Base
        Shelly.Find
    ghc-options: -Wall

executable  drain
    main-is: drain.hs

executable  run-handles
    main-is: run-handles.hs

executable  Color
    main-is: color.hs

test-suite  shelly-testsuite
    
    if flag(lifted)
        cpp-options: -DLIFTED
    type: exitcode-stdio-1.0
    main-is: TestMain.hs
    build-depends:
        base >=4.6,
        text >=0.11,
        async -any,
        bytestring >=0.10,
        containers >=0.5.0.0,
        directory >=1.1.0.0 && <1.4.0.0,
        process >=1.1.0,
        unix-compat <0.5,
        system-filepath >=0.4.7 && <0.5,
        system-fileio <0.4,
        time >=1.3 && <1.9,
        mtl >=2,
        HUnit >=1.2,
        hspec >=1.5,
        transformers -any,
        transformers-base -any,
        monad-control -any,
        lifted-base -any,
        lifted-async -any,
        enclosed-exceptions -any,
        exceptions -any
    extensions: OverloadedStrings ExtendedDefaultRules CPP
    hs-source-dirs: src test/src
    other-modules:
        CopySpec
        EnvSpec
        FailureSpec
        FindSpec
        Help
        LiftedSpec
        MoveSpec
        ReadFileSpec
        RmSpec
        RunSpec
        Shelly
        Shelly.Base
        Shelly.Find
        Shelly.Lifted
        TestInit
        WhichSpec
        WriteSpec
    ghc-options: -O2 -Wall -fwarn-tabs -funbox-strict-fields -threaded -fno-warn-unused-do-bind -fno-warn-type-defaults
